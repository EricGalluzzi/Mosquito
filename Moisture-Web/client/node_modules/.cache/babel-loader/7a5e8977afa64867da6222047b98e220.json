{"ast":null,"code":"import _asyncToGenerator from\"/Users/ericg/Desktop/SNHS/Mosquito/Moisture-Web/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ericg/Desktop/SNHS/Mosquito/Moisture-Web/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/ericg/Desktop/SNHS/Mosquito/Moisture-Web/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from'react';import'../App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var apiKey=process.env.REACT_APP_WEATHER_KEY;// import GraphManager from './features/graphManager'\nfunction WeatherUpdate(){//usestate of weather data, can be an array\n//useState of soil Moisture data, can also be an array\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),weatherAPI=_useState2[0],setWeatherAPI=_useState2[1];//will contain backend sensor data.\n/* form of \n        [temp : 25,\n\t\thumidity : 88,\n\t\tpressure : 101325,\n\t\tdescription : 'sun',\n        weathercode : 200\n        sM : 100\n        VBat: 69]\n        \n        add picture functionality.\n    */var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];//only display page once data is loaded\nvar _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),err=_useState6[0],setError=_useState6[1];// handle errors\nuseEffect(function(){//render website when mounted\nvar fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0://used callback hell because await was throwing issues\nfetch(\"http://api.openweathermap.org/data/2.5/weather?id=4151824&appid=\".concat(apiKey)).then(function(re){if(re.ok){return re.json();}throw re;}).then(function(data){setWeatherAPI(data);console.log(data);}).catch(function(err){console.log(err);//setError(err)\n}).finally(function(){console.log(weatherAPI);setLoading(false);});case 1:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);if(err)return\"error\";if(loading)return\"loading\";return/*#__PURE__*/_jsx(\"div\",{className:\"WeatherData\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"SNHS Presents...\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 d-flex flex-column justify-content-center align-items-center\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card mt-3 mx-auto\",style:{width:'60vw'},children:weatherAPI.main?/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"http://openweathermap.org/img/w/\".concat(weatherAPI.weather[0].icon,\".png\"),alt:\"weather status icon\",className:\"weather-icon\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"h2\",children:[((weatherAPI.main.temp-273.15)*9/5+32).toFixed(2),\"\\xB0 F\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"h5\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map-marker-alt\"}),' ',/*#__PURE__*/_jsx(\"strong\",{children:weatherAPI.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-temperature-low \"}),' ',/*#__PURE__*/_jsxs(\"strong\",{children:[weatherAPI.main.humidity,\"%\"]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-temperature-high\"}),' ',/*#__PURE__*/_jsxs(\"strong\",{children:[weatherAPI.main.pressure,\"hPa\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[' ',/*#__PURE__*/_jsx(\"strong\",{children:weatherAPI.weather[0].main})]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[typeof weatherAPI.rain==='undefined'?\"0 \":weatherAPI.rain['3h'],\" in. of PRCP\"]})})]})]})]}):/*#__PURE__*/_jsx(\"h1\",{children:\"Loading\"})})]}),/*#__PURE__*/_jsx(\"footer\",{className:\"footer\",children:/*#__PURE__*/_jsxs(\"code\",{children:[\"Created by\",' ',/*#__PURE__*/_jsx(\"a\",{href:\"https://github.com/imshines\",target:\"none\",children:\"imshines\"}),' ',\"using React\"]})})]})});}export default WeatherUpdate;","map":{"version":3,"sources":["/Users/ericg/Desktop/SNHS/Mosquito/Moisture-Web/client/src/features/WeatherUpdate.js"],"names":["React","useState","useEffect","apiKey","process","env","REACT_APP_WEATHER_KEY","WeatherUpdate","weatherAPI","setWeatherAPI","loading","setLoading","err","setError","fetchData","fetch","then","re","ok","json","data","console","log","catch","finally","width","main","weather","icon","temp","toFixed","name","humidity","pressure","rain"],"mappings":"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","sourcesContent":["\nimport React, { useState, useEffect } from 'react';\nimport '../App.css';\n\n\nconst apiKey = process.env.REACT_APP_WEATHER_KEY;\n\n\n// import GraphManager from './features/graphManager'\n\n\n\n\nfunction WeatherUpdate() {\n    //usestate of weather data, can be an array\n    //useState of soil Moisture data, can also be an array\n\n    const [weatherAPI, setWeatherAPI] = useState([]); //will contain backend sensor data.\n\n    /* form of \n        [temp : 25,\n\t\thumidity : 88,\n\t\tpressure : 101325,\n\t\tdescription : 'sun',\n        weathercode : 200\n        sM : 100\n        VBat: 69]\n        \n        add picture functionality.\n    */\n    const [loading, setLoading] = useState(true); //only display page once data is loaded\n    const [err, setError] = useState(null); // handle errors\n    useEffect(() => { //render website when mounted\n\n        const fetchData = async () => { //used callback hell because await was throwing issues\n\n            fetch(`http://api.openweathermap.org/data/2.5/weather?id=4151824&appid=${apiKey}`).then(re => {\n                if (re.ok) {\n                    return re.json()\n                }\n                throw re\n            }).then(data => {\n                setWeatherAPI(data)\n                console.log(data)\n\n            }).catch(err => {\n                console.log(err)\n                //setError(err)\n            }).finally(() => {\n                console.log(weatherAPI);\n                setLoading(false);\n\n            })\n\n\n        }\n       \n        fetchData()\n\n\n    }, []) \n\n    \n    if (err) return \"error\";\n    if (loading) return \"loading\";\n\n    return (\n        <div className = \"WeatherData\">\n            {/* <h2>Weather in the Coop</h2>\n            <ul>\n                <li>Temperature: {(((weatherAPI.main.temp)-273.15) * 9/5 + 32).toFixed(2)}Â°</li>\n                <li>Humidity: {weatherAPI.main.humidity}% </li>\n                <li>Description: {weatherAPI.weather[0].description}</li>\n                <li>Some Extra Desc: {weatherAPI.weather[0].main}</li>\n            </ul> */}\n              <div className=\"App\">\n    <header className=\"d-flex justify-content-center align-items-center\">\n      <h2>SNHS Presents...</h2>\n    </header>\n    <div className=\"container\">\n      <div className=\"mt-3 d-flex flex-column justify-content-center align-items-center\">\n        \n        \n      </div>\n\n      <div className=\"card mt-3 mx-auto\" style={{ width: '60vw' }}>\n        {weatherAPI.main ? (\n          <div className=\"card-body text-center\">\n            <img\n              src={`http://openweathermap.org/img/w/${weatherAPI.weather[0].icon}.png`}\n              alt=\"weather status icon\"\n              className=\"weather-icon\"\n            />\n\n            <p className=\"h2\">\n              {(((weatherAPI.main.temp)-273.15) * 9/5 + 32).toFixed(2)}&deg; F\n            </p>\n\n            <p className=\"h5\">\n              <i className=\"fas fa-map-marker-alt\"></i>{' '}\n              <strong>{weatherAPI.name}</strong>\n            </p>\n\n            <div className=\"row mt-4\">\n              <div className=\"col-md-6\">\n                <p>\n                  <i className=\"fas fa-temperature-low \"></i>{' '}\n                  <strong>\n                    {(weatherAPI.main.humidity)}% \n                  </strong>\n                </p>\n                <p>\n                  <i className=\"fas fa-temperature-high\"></i>{' '}\n                  <strong>\n                    {weatherAPI.main.pressure}hPa\n                  </strong>\n                </p>\n              </div>\n              <div className=\"col-md-6\">\n                <p>\n                  {' '}\n                  <strong>{weatherAPI.weather[0].main}</strong>\n                </p>\n                <p><strong>{typeof weatherAPI.rain === 'undefined' ? \"0 \" : weatherAPI.rain['3h']} in. of PRCP</strong></p>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <h1>Loading</h1>\n        )}\n      </div>\n    </div>\n    <footer className=\"footer\">\n      <code>\n        Created by{' '}\n        <a href=\"https://github.com/imshines\" target=\"none\">\n          imshines\n        </a>{' '}\n        using React\n      </code>\n    </footer>\n  </div>\n  \n\n        </div>)\n\n}\nexport default WeatherUpdate;\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}